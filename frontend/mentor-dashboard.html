<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mentor Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="css/mentor-dashboard.css">
</head>
<body>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="assets/mit-wpu_logo.png" alt="Logo" class="logo">
                <h2>Mentor Portal</h2>
            </div>
            <div class="mentor-profile">
                <img src="img/default-profile.svg" alt="Profile" id="mentor-avatar">
                <h3 id="mentor-name">Loading...</h3>
                <p id="mentor-title">Mentor</p>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li class="active" data-tab="dashboard"><i class="fas fa-tachometer-alt"></i> Dashboard</li>
                    <li data-tab="mentees"><i class="fas fa-users"></i> My Mentees</li>
                    <li data-tab="messages"><i class="fas fa-comments"></i> Messages</li>
                    <li data-tab="meetings"><i class="fas fa-calendar-alt"></i> Meetings</li>
                    <li data-tab="activity-logs"><i class="fas fa-clipboard-list"></i> Activity Logs</li>
                    <li data-tab="alerts"><i class="fas fa-exclamation-triangle"></i> Emergency Alerts</li>
                    <li data-tab="profile"><i class="fas fa-user-cog"></i> Profile Settings</li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <button id="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</button>
            </div>
        </aside>

        <main class="content">
            <!-- Dashboard Overview -->
            <section id="dashboard" class="dashboard-section active">
                <h1>Dashboard Overview</h1>
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <i class="fas fa-users"></i>
                        <div class="stat-info">
                            <h3 id="mentee-count">0</h3>
                            <p>Mentees</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-calendar-check"></i>
                        <div class="stat-info">
                            <h3 id="meeting-count">0</h3>
                            <p>Upcoming Meetings</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-comments"></i>
                        <div class="stat-info">
                            <h3 id="message-count">0</h3>
                            <p>Unread Messages</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-exclamation-triangle"></i>
                        <div class="stat-info">
                            <h3 id="alert-count">0</h3>
                            <p>Emergency Alerts</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-content">
                    <div class="dashboard-column">
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h3>Recent Activity</h3>
                            </div>
                            <div class="card-content">
                                <div id="recent-activity" class="activity-list">
                                    <p>Loading recent activity...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="dashboard-column">
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h3>Upcoming Meetings</h3>
                                <button id="schedule-meeting-btn" class="action-btn">
                                    <i class="fas fa-plus"></i> Schedule
                                </button>
                            </div>
                            <div class="card-content">
                                <div id="upcoming-meetings" class="meeting-list">
                                    <p>Loading upcoming meetings...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Mentees Section -->
            <section id="mentees" class="dashboard-section">
                <h1>My Mentees</h1>
                <div class="search-bar">
                    <input type="text" id="mentee-search" placeholder="Search mentees...">
                    <button><i class="fas fa-search"></i></button>
                </div>
                <div id="mentees-list" class="mentees-grid">
                    <!-- Mentees will be loaded here -->
                    <p>Loading mentees...</p>
                </div>
            </section>

            <!-- My Mentees Section -->
            <section id="my-mentees" class="dashboard-section">
                <div class="my-mentees-section">
                    <div class="section-header">
                        <h2>My Mentees</h2>
                        <div class="section-actions">
                            <input type="text" id="mentee-search" placeholder="Search mentees...">
                            <button id="add-mentee-btn" class="action-btn"><i class="fas fa-plus"></i> Add Mentee</button>
                        </div>
                    </div>
                    <div class="mentees-table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Mentee</th>
                                    <th>Course</th>
                                    <th>Year</th>
                                    <th>Attendance</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="mentees-list">
                                <!-- Mentees will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Messages Section -->
            <section id="messages" class="dashboard-section">
                <div class="section-header">
                    <h2>Messages</h2>
                    <div class="section-actions">
                        <button id="new-message-btn" class="action-btn">
                            <i class="fas fa-plus"></i> New Message
                        </button>
                        <button id="new-broadcast-btn" class="action-btn">
                            <i class="fas fa-bullhorn"></i> Broadcast
                        </button>
                    </div>
                </div>
                
                <div class="messages-tabs">
                    <button class="tab-btn active" data-tab="personal">Personal Messages</button>
                    <button class="tab-btn" data-tab="broadcast">Broadcast Messages</button>
                </div>
                
                <div class="messages-content">
                    <div id="personal-messages" class="tab-content active">
                        <div id="messages-list" class="messages-list">
                            <!-- Messages will be loaded here -->
                        </div>
                    </div>
                    <div id="broadcast-messages" class="tab-content">
                        <div id="broadcast-messages-list" class="messages-list">
                            <!-- Broadcast messages will be loaded here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Meetings Section -->
            <section id="meetings" class="dashboard-section">
                <h1>Meetings</h1>
                <div class="section-header">
                    <div class="filter-options">
                        <select id="meeting-filter">
                            <option value="all">All Meetings</option>
                            <option value="upcoming">Upcoming</option>
                            <option value="past">Past</option>
                        </select>
                    </div>
                    <button id="new-meeting-btn" class="action-btn">
                        <i class="fas fa-plus"></i> New Meeting
                    </button>
                </div>
                <div id="meeting-list" class="meeting-list">
                    <!-- Meetings will be loaded here -->
                    <p>Loading meetings...</p>
                </div>
            </section>

            <!-- Achievements Section -->
            <section id="achievements" class="dashboard-section">
                <div class="section-header">
                    <h2>Mentee Achievements</h2>
                    <div class="section-actions">
                        <select id="achievement-filter" class="filter-select">
                            <option value="all">All Achievements</option>
                            <option value="pending">Pending</option>
                            <option value="approved">Approved</option>
                            <option value="rejected">Rejected</option>
                        </select>
                    </div>
                </div>
                
                <div id="achievements-list" class="achievements-grid">
                    <!-- Achievements will be loaded here -->
                </div>
            </section>

            <!-- Activity Logs Section -->
            <section id="activity-logs" class="dashboard-section">
                <div class="section-header">
                    <h2>Activity Logs</h2>
                    <div class="section-actions">
                        <select id="activity-filter" class="filter-select">
                            <option value="all">All Activities</option>
                            <option value="meeting">Meetings</option>
                            <option value="progress">Progress Updates</option>
                            <option value="achievement">Achievements</option>
                        </select>
                    </div>
                </div>
                
                <div id="activity-logs-list" class="activity-logs-list">
                    <!-- Activity logs will be loaded here -->
                </div>
            </section>

            <!-- Emergency Alerts Section -->
            <section id="alerts" class="dashboard-section">
                <h1>Emergency Alerts</h1>
                <div class="alerts-container">
                    <div id="active-alerts" class="alerts-group">
                        <h3>Active Alerts</h3>
                        <div id="active-alerts-list" class="alerts-list">
                            <!-- Active alerts will be loaded here -->
                            <p>Loading active alerts...</p>
                        </div>
                    </div>
                    <div id="resolved-alerts" class="alerts-group">
                        <h3>Resolved Alerts</h3>
                        <div id="resolved-alerts-list" class="alerts-list">
                            <!-- Resolved alerts will be loaded here -->
                            <p>Loading resolved alerts...</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Profile Settings Section -->
            <section id="profile" class="dashboard-section">
                <h1>Profile Settings</h1>
                <div class="profile-container">
                    <div class="profile-image">
                        <img src="img/default-profile.svg" alt="Profile" id="profile-avatar">
                        <button id="change-avatar-btn" class="action-btn">Change Avatar</button>
                    </div>
                    <div class="profile-details">
                        <form id="profile-form">
                            <div class="form-group">
                                <label for="profile-name">Full Name</label>
                                <input type="text" id="profile-name" placeholder="Your full name">
                            </div>
                            <div class="form-group">
                                <label for="profile-email">Email</label>
                                <input type="email" id="profile-email" placeholder="Your email">
                            </div>
                            <div class="form-group">
                                <label for="profile-phone">Phone</label>
                                <input type="tel" id="profile-phone" placeholder="Your phone number">
                            </div>
                            <div class="form-group">
                                <label for="profile-title">Title/Position</label>
                                <input type="text" id="profile-title" placeholder="Your title or position">
                            </div>
                            <div class="form-group">
                                <label for="profile-bio">Bio</label>
                                <textarea id="profile-bio" placeholder="Tell us about yourself"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="profile-expertise">Areas of Expertise</label>
                                <input type="text" id="profile-expertise" placeholder="Separate with commas">
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="action-btn">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modals -->
    <!-- Mentee Detail Modal -->
    <div id="mentee-detail-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="mentee-detail-name">Mentee Name</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="mentee-detail-container">
                    <div class="mentee-profile">
                        <img id="mentee-detail-avatar" src="img/default-profile.svg" alt="Mentee Profile">
                        <div class="mentee-contact-info">
                            <p><i class="fas fa-envelope"></i> <span id="mentee-detail-email">email@example.com</span></p>
                            <p><i class="fas fa-phone"></i> <span id="mentee-detail-phone">(123) 456-7890</span></p>
                            <p><i class="fas fa-graduation-cap"></i> <span id="mentee-detail-program">Program</span></p>
                        </div>
                        <div class="mentee-actions">
                            <button id="message-mentee-btn" class="action-btn"><i class="fas fa-comment"></i> Message</button>
                            <button id="schedule-with-mentee-btn" class="action-btn"><i class="fas fa-calendar-plus"></i> Schedule Meeting</button>
                        </div>
                    </div>
                    <div class="mentee-details">
                        <div class="detail-tabs">
                            <button class="tab-btn active" data-tab="academic">Academic Info</button>
                            <button class="tab-btn" data-tab="activity">Recent Activity</button>
                            <button class="tab-btn" data-tab="notes">Notes</button>
                        </div>
                        <div id="academic-tab" class="detail-tab-content active">
                            <div class="academic-info">
                                <h3>Academic Information</h3>
                                <div class="info-group">
                                    <label>Student ID:</label>
                                    <p id="mentee-detail-id">12345</p>
                                </div>
                                <div class="info-group">
                                    <label>Program:</label>
                                    <p id="mentee-detail-program-full">Bachelor of Science in Computer Science</p>
                                </div>
                                <div class="info-group">
                                    <label>Year Level:</label>
                                    <p id="mentee-detail-year">Sophomore</p>
                                </div>
                                <div class="info-group">
                                    <label>GPA:</label>
                                    <p id="mentee-detail-gpa">3.75</p>
                                </div>
                                <div class="info-group">
                                    <label>Enrollment Status:</label>
                                    <p id="mentee-detail-status">Full-time</p>
                                </div>
                            </div>
                        </div>
                        <div id="activity-tab" class="detail-tab-content">
                            <h3>Recent Activity</h3>
                            <div id="mentee-activity-list" class="activity-list">
                                <p>Loading activity...</p>
                            </div>
                        </div>
                        <div id="notes-tab" class="detail-tab-content">
                            <h3>Mentoring Notes</h3>
                            <div class="notes-container">
                                <div id="mentee-notes-list" class="notes-list">
                                    <p>No notes yet.</p>
                                </div>
                                <div class="add-note">
                                    <textarea id="new-note-text" placeholder="Add a new note..."></textarea>
                                    <button id="add-note-btn" class="action-btn">Add Note</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Message Modal -->
    <div id="message-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Send Message to <span id="message-recipient">Mentee</span></h2>
                <span class="close-modal" data-modal="message-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="message-input">Message:</label>
                    <textarea id="message-input" rows="4" placeholder="Type your message here..."></textarea>
                </div>
                <button id="send-message-btn" class="btn btn-primary">Send Message</button>
            </div>
        </div>
    </div>

    <!-- Schedule Meeting Modal -->
    <div id="schedule-meeting-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Schedule Meeting with <span id="meeting-mentee-name">Mentee</span></h2>
                <span class="close-modal" data-modal="schedule-meeting-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="meeting-date">Date:</label>
                    <input type="date" id="meeting-date" required>
                </div>
                <div class="form-group">
                    <label for="meeting-time">Time:</label>
                    <input type="time" id="meeting-time" required>
                </div>
                <div class="form-group">
                    <label for="meeting-duration">Duration (minutes):</label>
                    <input type="number" id="meeting-duration" min="15" max="120" step="15" value="30">
                </div>
                <div class="form-group">
                    <label for="meeting-agenda">Agenda:</label>
                    <textarea id="meeting-agenda" rows="3" placeholder="Meeting agenda..."></textarea>
                </div>
                <button id="schedule-meeting-btn" class="btn btn-primary">Schedule Meeting</button>
            </div>
        </div>
    </div>

    <!-- Mentee Profile Modal -->
    <div id="mentee-profile-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Mentee Profile</h2>
                <span class="close-modal" data-modal="mentee-profile-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="mentee-profile-container">
                    <div class="mentee-profile-info">
                        <h3 id="mentee-profile-name">Mentee Name</h3>
                        <p id="mentee-profile-email">email@example.com</p>
                        <p id="mentee-profile-phone">(123) 456-7890</p>
                    </div>
                    <div class="mentee-profile-actions">
                        <button id="message-mentee-profile-btn" class="action-btn"><i class="fas fa-comment"></i> Message</button>
                        <button id="schedule-with-mentee-profile-btn" class="action-btn"><i class="fas fa-calendar-plus"></i> Schedule Meeting</button>
                    </div>
                    <div id="mentee-profile-academic-details" class="mentee-profile-academic">
                        <!-- Academic details will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Mentee Modal -->
    <div id="add-mentee-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Mentee</h2>
                <span class="close-modal" data-modal="add-mentee-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="available-mentees-select">Select Available Mentee:</label>
                    <select id="available-mentees-select" class="form-control">
                        <option value="" selected disabled>Select a mentee</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="mentee-email-input">Or Enter Mentee Email:</label>
                    <input type="email" id="mentee-email-input" class="form-control" placeholder="Enter mentee email">
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancel-add-mentee-btn" class="btn btn-secondary close-modal" data-modal="add-mentee-modal">Cancel</button>
                <button id="confirm-add-mentee-btn" class="btn btn-primary">Add Mentee</button>
            </div>
        </div>
    </div>

    <!-- Remove Mentee Modal -->
    <div id="remove-mentee-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Remove Mentee</h2>
                <span class="close-modal" data-modal="remove-mentee-modal">&times;</span>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to remove this mentee from your list?</p>
                <p class="text-danger">This action cannot be undone.</p>
            </div>
            <div class="modal-footer">
                <button id="cancel-remove-mentee-btn" class="btn btn-secondary close-modal" data-modal="remove-mentee-modal">Cancel</button>
                <button id="confirm-remove-mentee-btn" class="btn btn-danger">Remove</button>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container"></div>

    <!-- Scripts -->
    <script src="js/mentor-api.js"></script>
    <script src="js/mentor-dashboard.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize the dashboard
            const dashboard = new MentorDashboard();
        });
    </script>
</body>
</html>
